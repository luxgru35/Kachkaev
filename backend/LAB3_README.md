# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3 - TypeScript, ESLint, Prettier

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–£—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ TypeScript —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ES –º–æ–¥—É–ª–µ–π (import/export). –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã ESLint v9 –∏ Prettier –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ–±–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞: Husky —Å lint-staged –∏ TypeScript –∞–ª–∏–∞—Å—ã.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- ‚úì –í–µ—Å—å –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ TypeScript (.ts)
- ‚úì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω ES —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (import/export) –≤–µ–∑–¥–µ
- ‚úì –î–æ–±–∞–≤–ª–µ–Ω–∏–π "type": "module" –≤ package.json
- ‚úì –í—Å–µ —Ñ–∞–π–ª—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úì TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úì ESLint –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç 1: Husky + lint-staged
- ‚úì –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω husky
- ‚úì –°–æ–∑–¥–∞–Ω `.husky/pre-commit` —Ö—É–∫
- ‚úì –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω lint-staged
- ‚úì Pre-commit —Ö—É–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç lint –∏ format –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úì –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç 2: TypeScript –∞–ª–∏–∞—Å—ã
- ‚úì –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ tsconfig.json:
  - `@models/*` –¥–ª—è –º–æ–¥–µ–ª–µ–π
  - `@routes/*` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
  - `@middleware/*` –¥–ª—è middleware
  - `@config/*` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É–∞—Ü–∏–∏
- ‚úì –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∏–º–ø–æ—Ä—Ç–∞—Ö
- ‚úì –ò–º–ø–æ—Ä—Ç—ã –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ db.ts              # PostgreSQL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ passport.ts        # JWT —Å—Ç—Ä–∞—Ç–µ–≥–∏—è Passport
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ checkApiKey.ts
‚îÇ   ‚îú‚îÄ‚îÄ checkEventLimit.ts
‚îÇ   ‚îî‚îÄ‚îÄ checkTokenBlacklist.ts
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ User.ts
‚îÇ   ‚îú‚îÄ‚îÄ Event.ts
‚îÇ   ‚îú‚îÄ‚îÄ TokenBlacklist.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts
‚îÇ   ‚îú‚îÄ‚îÄ events.ts
‚îÇ   ‚îî‚îÄ‚îÄ users.ts
‚îú‚îÄ‚îÄ index.ts               # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ tsconfig.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript —Å –∞–ª–∏–∞—Å–∞–º–∏
‚îú‚îÄ‚îÄ eslint.config.js       # ESLint –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (v9)
‚îú‚îÄ‚îÄ .eslintrc.json         # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .prettierrc.json       # Prettier –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ package.json           # Scripts –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

root/
‚îú‚îÄ‚îÄ .husky/
‚îÇ   ‚îî‚îÄ‚îÄ pre-commit         # Git hook –¥–ª—è Husky
‚îú‚îÄ‚îÄ .lintstagedrc          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è lint-staged
‚îî‚îÄ‚îÄ LAB3_MR.md             # –û–ø–∏—Å–∞–Ω–∏–µ Merge Request
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
cd backend
npm install
```

### TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
npm run type-check
```

### ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
npm run lint        # —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run lint:fix    # —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
```

### Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
npm run format          # —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm run format:check    # –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

### –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run dev
```

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
npm run build
npm start
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è TypeScript –∞–ª–∏–∞—Å–æ–≤

### –î–æ –õ–†3 (—Å—Ç–∞—Ä—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å require)
```javascript
const User = require('../../../models/User');
const checkApiKey = require('../../middleware/checkApiKey');
const sequelize = require('../config/db');
```

### –ü–æ—Å–ª–µ –õ–†3 (TypeScript —Å –∞–ª–∏–∞—Å–∞–º–∏)
```typescript
import User from '@models/User.js';
import checkApiKey from '@middleware/checkApiKey.js';
import sequelize from '@config/db.js';
```

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### TypeScript
- **–í–µ—Ä—Å–∏—è**: 5.9.3
- **Target**: ES2020
- **Strictness**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (strict: true)
- **Module**: ES2020

### ESLint
- **–í–µ—Ä—Å–∏—è**: 9.39.2
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: flat config (–Ω–æ–≤–∞—è –≤ v9)
- **–ü–∞—Ä—Å–µ—Ä**: @typescript-eslint/parser
- **–ü—Ä–∞–≤–∏–ª–∞**: recommended + TypeScript

### Prettier
- **–í–µ—Ä—Å–∏—è**: 3.8.1
- **Line Width**: 100 —Å–∏–º–≤–æ–ª–æ–≤
- **Quotes**: –æ–¥–∏–Ω–æ—á–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
- **Semi**: —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π –≤–µ–∑–¥–µ

### Husky
- **–í–µ—Ä—Å–∏—è**: 9.1.7
- **–•—É–∫**: pre-commit
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

### Lint-staged
- **–í–µ—Ä—Å–∏—è**: 16.2.7
- **–§—É–Ω–∫—Ü–∏—è**: –∑–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–æ–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: —Å Husky —á–µ—Ä–µ–∑ pre-commit

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–æ–∫

```
‚úì TypeScript: 0 –æ—à–∏–±–æ–∫
‚úì ESLint: 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, 41 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
‚úì Prettier: –∫–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω
‚úì Git hooks: —Ä–∞–±–æ—Ç–∞—é—Ç
‚úì TS –∞–ª–∏–∞—Å—ã: —Ä–∞–±–æ—Ç–∞—é—Ç
```

## üîÑ Git-—Ö—É–∫–∏ (Husky)

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `lint-staged`
2. ESLint –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ .ts —Ñ–∞–π–ª—ã
3. Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã
4. –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫–æ–º–º–∏—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
5. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ - –º–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å

## üìù –ö–æ–º–º–∏—Ç—ã –õ–†3

```
787d4c8 - docs: LAB3 –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ MR
b6fdafe - feat: LAB3 Husky –∏ lint-staged –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
81109fa - refactor: LAB3 –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ TypeScript
```

## üéì –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

### –ú–æ–¥–µ–ª–∏ (User, Event, TokenBlacklist)
```typescript
interface IUser {
  id: number;
  name: string;
  email: string;
  password: string;
  createdAt: Date;
  deletedAt?: Date | null;
  validatePassword(password: string): Promise<boolean>;
}
```

### –ú–∞—Ä—à—Ä—É—Ç—ã
```typescript
interface EventBody {
  title: string;
  description?: string;
  date: string;
  createdBy: number;
}

interface AuthRequest extends Request {
  user?: any;
}
```

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **Pre-push —Ö—É–∫** - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º
2. **Commit-msg —Ö—É–∫** - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–æ–≤
3. **Jest** - –¥–ª—è unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **GitHub Actions** - –¥–ª—è CI/CD
5. **TypeDoc** - –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –í–µ—Å—å –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π TypeScript —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ES –º–æ–¥—É–ª–µ–π. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ (ESLint, Prettier) –∏ Git-—Ö—É–∫–∏ (Husky, lint-staged). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ–±–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞, –≤–∫–ª—é—á–∞—è —É–¥–æ–±–Ω—ã–µ TS –∞–ª–∏–∞—Å—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –º–µ—Ä–∂—É –≤ main

---

**–ê–≤—Ç–æ—Ä**: –ö–∏—Ä–∏–ª–ª –ö.  
**–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞**: –û—Å–Ω–æ–≤—ã –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
**–î–∞—Ç–∞**: 2026-02-08
